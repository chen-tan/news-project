(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70971eb4"],{3244:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"channel-news"},[a("h1",{staticClass:"channel"},[e._v(e._s(e.channelName))]),a("news-list",{attrs:{newsList:e.newsList}}),a("pager",{attrs:{page:e.page,total:e.total,limit:e.limit,panelNumber:e.panelNumber},on:{"page-change":e.pageChange}})],1)},r=[],i=(a("7db0"),a("b0c0"),a("96cf"),a("1da1")),s=a("dc4d"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pager"},[a("a",{staticClass:"pager-item",class:{disable:1===e.page},attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.pageChange(1)}}},[e._v("首页")]),a("a",{staticClass:"pager-item",class:{disable:1===e.page},attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.pageChange(e.page-1)}}},[e._v("上一页")]),e._l(e.pageArr,(function(t){return a("a",{key:t,staticClass:"pager-item",class:{active:e.page===t},attrs:{href:""},on:{click:function(a){return a.preventDefault(),e.pageChange(t)}}},[e._v(e._s(t))])})),e.page!==e.total?a("a",{staticClass:"pager-item",class:{disable:e.page===e.pageNumber},attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.pageChange(e.page+1)}}},[e._v("下一页")]):e._e(),e.page!==e.total?a("a",{staticClass:"pager-item",class:{disable:e.page===e.pageNumber},attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.pageChange(e.pageNumber)}}},[e._v("尾页")]):e._e(),a("div",{staticClass:"pager-text"},[e._v(e._s(e.page)+" / "+e._s(e.pageNumber))])],2)},c=[],o=(a("a9e3"),{props:{page:{type:Number,default:1},total:{type:Number,default:0},limit:{type:Number,default:10},panelNumber:{type:Number,default:10}},computed:{pageNumber:function(){return Math.ceil(this.total/this.limit)},pageArr:function(){for(var e=[],t=this.minNumber;t<=this.maxNumber;t++)e.push(t);return e},minNumber:function(){var e=Math.ceil(this.page-this.panelNumber/2);return e<1&&(e=1),e},maxNumber:function(){var e=this.minNumber+this.panelNumber-1;return e>this.pageNumber&&(e=this.pageNumber),e}},methods:{pageChange:function(e){e<1&&(e=1),e>this.pageNumber&&(e=this.pageNumber),e!==this.page&&this.$emit("page-change",e)}}}),l=o,p=(a("907a"),a("2877")),h=Object(p["a"])(l,u,c,!1,null,"b9f07866",null),m=h.exports,g=a("00fa"),f={components:{NewsList:s["a"],Pager:m},data:function(){return{newsList:[],channelName:"",total:0,limit:15,panelNumber:10}},computed:{page:function(){return+this.$route.query.page||1},curId:function(){return this.$route.params.id}},methods:{showChannelName:function(){var e=this,t=this.$store.state.channels.data;if(0!==t.length){var a=t.find((function(t){return t.channelId===e.curId}));this.channelName=a.name}},showNewsList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(g["b"])(e.curId,e.page,e.limit);case 2:a=t.sent,e.newsList=a.contentlist,e.total=a.allNum;case 5:case"end":return t.stop()}}),t)})))()},pageChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.showNewsList(),t.$router.push({query:{page:e}});case 2:case"end":return a.stop()}}),a)})))()}},watch:{"$store.state.channels.data":{immediate:!0,handler:function(){this.showChannelName()}},"$route.params.id":{immediate:!0,handler:function(){this.showChannelName(),this.$route.query.page=1,this.showNewsList()}}},created:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},d=f,b=(a("99e3"),Object(p["a"])(d,n,r,!1,null,"6f059932",null));t["default"]=b.exports},"48e8":function(e,t,a){},"7ade":function(e,t,a){},"7db0":function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").find,i=a("44d2"),s=a("ae40"),u="find",c=!0,o=s(u);u in[]&&Array(1)[u]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!o},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(u)},"907a":function(e,t,a){"use strict";a("48e8")},"99e3":function(e,t,a){"use strict";a("7ade")}}]);
//# sourceMappingURL=chunk-70971eb4.effe7fc8.js.map