{"version":3,"sources":["webpack:///./src/views/ChannelNews.vue?f3e0","webpack:///./src/components/pager.vue?b97f","webpack:///src/components/pager.vue","webpack:///./src/components/pager.vue?a51b","webpack:///./src/components/pager.vue","webpack:///src/views/ChannelNews.vue","webpack:///./src/views/ChannelNews.vue?9e1a","webpack:///./src/views/ChannelNews.vue","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/components/pager.vue?8e4a","webpack:///./src/views/ChannelNews.vue?b01c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","channelName","attrs","newsList","page","total","limit","panelNumber","on","pageChange","staticRenderFns","class","disable","$event","preventDefault","_l","item","key","active","pageNumber","_e","props","type","Number","default","computed","Math","ceil","pageArr","arr","push","i","minNumber","min","maxNumber","max","methods","newPage","$emit","component","components","data","$route","query","curId","params","id","showChannelName","watch","immediate","handler","showNewsList","$","$find","find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"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","file":"js/chunk-70971eb4.effe7fc8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"channel-news\"},[_c('h1',{staticClass:\"channel\"},[_vm._v(_vm._s(_vm.channelName))]),_c('news-list',{attrs:{\"newsList\":_vm.newsList}}),_c('pager',{attrs:{\"page\":_vm.page,\"total\":_vm.total,\"limit\":_vm.limit,\"panelNumber\":_vm.panelNumber},on:{\"page-change\":_vm.pageChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pager\"},[_c('a',{staticClass:\"pager-item\",class:{ disable: _vm.page === 1 },attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.pageChange(1)}}},[_vm._v(\"首页\")]),_c('a',{staticClass:\"pager-item\",class:{ disable: _vm.page === 1 },attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.pageChange(_vm.page - 1)}}},[_vm._v(\"上一页\")]),_vm._l((_vm.pageArr),function(item){return _c('a',{key:item,staticClass:\"pager-item\",class:{active:_vm.page===item},attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.pageChange(item)}}},[_vm._v(_vm._s(item))])}),(_vm.page !== _vm.total)?_c('a',{staticClass:\"pager-item\",class:{ disable: _vm.page === _vm.pageNumber },attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.pageChange(_vm.page + 1)}}},[_vm._v(\"下一页\")]):_vm._e(),(_vm.page !== _vm.total)?_c('a',{staticClass:\"pager-item\",class:{ disable: _vm.page === _vm.pageNumber },attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.pageChange(_vm.pageNumber)}}},[_vm._v(\"尾页\")]):_vm._e(),_c('div',{staticClass:\"pager-text\"},[_vm._v(_vm._s(_vm.page)+\" / \"+_vm._s(_vm.pageNumber))])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"pager\">\r\n    <a\r\n      class=\"pager-item\"\r\n      :class=\"{ disable: page === 1 }\"\r\n      href=\"\"\r\n      @click.prevent=\"pageChange(1)\"\r\n      >首页</a\r\n    >\r\n    <a\r\n      class=\"pager-item\"\r\n      :class=\"{ disable: page === 1 }\"\r\n      href=\"\"\r\n      @click.prevent=\"pageChange(page - 1)\"\r\n      >上一页</a\r\n    >\r\n    <a\r\n      href=\"\"\r\n      class=\"pager-item\"\r\n      :class=\"{active:page===item}\"\r\n      v-for=\"item in pageArr\"\r\n      :key=\"item\"\r\n      @click.prevent=\"pageChange(item)\"\r\n    >{{ item }}</a>\r\n    <a\r\n      class=\"pager-item\"\r\n      :class=\"{ disable: page === pageNumber }\"\r\n      href=\"\"\r\n      @click.prevent=\"pageChange(page + 1)\"\r\n      v-if=\"page !== total\"\r\n      >下一页</a\r\n    >\r\n    <a\r\n      class=\"pager-item\"\r\n      :class=\"{ disable: page === pageNumber }\"\r\n      href=\"\"\r\n      @click.prevent=\"pageChange(pageNumber)\"\r\n      v-if=\"page !== total\"\r\n      >尾页</a\r\n    >\r\n    <div class=\"pager-text\">{{ page }} / {{ pageNumber }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    page: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    total: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    limit: {\r\n      type: Number,\r\n      default: 10,\r\n    },\r\n    panelNumber: {\r\n      type: Number,\r\n      default: 10,\r\n    },\r\n  },\r\n  computed: {\r\n    pageNumber() {\r\n      return Math.ceil(this.total / this.limit);\r\n    },\r\n    pageArr() {\r\n      let arr=[];\r\n      for(let i=this.minNumber;i<=this.maxNumber;i++){\r\n        arr.push(i);\r\n      }\r\n      return arr;\r\n    },\r\n    minNumber(){\r\n      let min = Math.ceil(this.page-this.panelNumber/2);\r\n      if(min<1){\r\n        min=1;\r\n      }\r\n      return min;\r\n    },\r\n    maxNumber(){\r\n      let max=this.minNumber+this.panelNumber-1;\r\n      if(max>this.pageNumber){\r\n        max=this.pageNumber;\r\n      }\r\n      return max;\r\n    }\r\n  },\r\n  methods: {\r\n    pageChange(newPage) {\r\n      if (newPage < 1) {\r\n        newPage = 1;\r\n      }\r\n      if (newPage > this.pageNumber) {\r\n        newPage = this.pageNumber;\r\n      }\r\n      if (newPage === this.page) {\r\n        return;\r\n      }\r\n      this.$emit(\"page-change\", newPage);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.pager {\r\n  width:100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.pager .pager-item {\r\n  \r\n  min-width:30px;\r\n  padding: 3px 5px;\r\n  margin: 0 2px;\r\n  border: 1px solid #c1c1c1;\r\n  color: #15b6e7;\r\n  text-align:center;\r\n}\r\n.pager .pager-item:hover {\r\n  background-color: #919191;\r\n  color: #228cac;\r\n}\r\n.pager .pager-item.active {\r\n  background-color: #fff;\r\n  color: #000;\r\n  border: none;\r\n}\r\n.pager .pager-item.disable {\r\n  background-color: #efefef;\r\n  color: #a6a6a6;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pager.vue?vue&type=template&id=b9f07866&scoped=true&\"\nimport script from \"./pager.vue?vue&type=script&lang=js&\"\nexport * from \"./pager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pager.vue?vue&type=style&index=0&id=b9f07866&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b9f07866\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"channel-news\">\r\n    <h1 class=\"channel\">{{ channelName }}</h1>\r\n    <news-list :newsList=\"newsList\" />\r\n    <pager\r\n      :page=\"page\"\r\n      :total=\"total\"\r\n      :limit=\"limit\"\r\n      :panelNumber=\"panelNumber\"\r\n      @page-change=\"pageChange\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NewsList from \"../components/NewsList.vue\";\r\nimport Pager from \"../components/pager.vue\";\r\nimport { getNewsList } from \"../services/newsServices\";\r\n\r\nexport default {\r\n  components: { NewsList, Pager },\r\n  data() {\r\n    return {\r\n      newsList: [],\r\n      channelName: \"\",\r\n        total: 0,\r\n        limit: 15,\r\n        panelNumber: 10,\r\n      \r\n    };\r\n  },\r\n  computed:{\r\n    page(){\r\n      return +this.$route.query.page || 1;\r\n    },\r\n    curId(){\r\n      return this.$route.params.id;\r\n    }\r\n  },\r\n  methods: {\r\n    showChannelName(){\r\n      const channels=this.$store.state.channels.data;\r\n      if(channels.length===0){\r\n        return;\r\n      }\r\n      const channel = channels.find(item=>item.channelId===this.curId);\r\n      this.channelName=channel.name;\r\n    },\r\n    async showNewsList() {\r\n      const resp = await getNewsList(this.curId,this.page,this.limit);\r\n      this.newsList = resp.contentlist;\r\n      this.total=resp.allNum;\r\n    },\r\n    async pageChange(newPage){\r\n      this.showNewsList();\r\n      this.$router.push({\r\n        query:{page:newPage}\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    \"$store.state.channels.data\": {\r\n      immediate: true,\r\n      handler() {\r\n          this.showChannelName();\r\n      },\r\n    },\r\n    \"$route.params.id\": {\r\n      immediate: true,\r\n      handler() {\r\n        this.showChannelName();\r\n        this.$route.query.page=1;\r\n        this.showNewsList();\r\n      },\r\n    },\r\n  },\r\n  async created() {},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.channel {\r\n  font-size: 24px;\r\n  padding-top: 30px;\r\n}\r\n.pager {\r\n  margin: 30px 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChannelNews.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChannelNews.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChannelNews.vue?vue&type=template&id=6f059932&scoped=true&\"\nimport script from \"./ChannelNews.vue?vue&type=script&lang=js&\"\nexport * from \"./ChannelNews.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChannelNews.vue?vue&type=style&index=0&id=6f059932&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f059932\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pager.vue?vue&type=style&index=0&id=b9f07866&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChannelNews.vue?vue&type=style&index=0&id=6f059932&scoped=true&lang=css&\""],"sourceRoot":""}