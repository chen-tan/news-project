(function(t){function e(e){for(var a,r,c=e[0],o=e[1],u=e[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},i={app:0},s=[];function c(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-2d0c7ad7":"937055c9","chunk-2d0e4a6e":"7324e9f6","chunk-2d230a9f":"d62ebb7e","chunk-3f53acf8":"b5173071","chunk-70971eb4":"effe7fc8","chunk-b4af0008":"79748ff6","chunk-e4179864":"4d4ea504"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={"chunk-3f53acf8":1,"chunk-70971eb4":1,"chunk-e4179864":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-2d0c7ad7":"31d6cfe0","chunk-2d0e4a6e":"31d6cfe0","chunk-2d230a9f":"31d6cfe0","chunk-3f53acf8":"a9d488f6","chunk-70971eb4":"24d19d64","chunk-b4af0008":"31d6cfe0","chunk-e4179864":"daa97a53"}[t]+".css",i=o.p+a,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=s[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===i))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===a||l===i)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[t],f.parentNode.removeChild(f),n(s)},f.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){r[t]=0})));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,n){a=i[t]=[e,n]}));e.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=c(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}i[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"00fa":function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));n("96cf");var a=n("1da1"),r=n("bc3a"),i=n.n(r),s="0fda1d3df9d04eecb3e5a6bbc1e6dde9";function c(){return o.apply(this,arguments)}function o(){return o=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("http://ali-news.showapi.com/channelList",{headers:{Authorization:"APPCODE ".concat(s)}});case 2:return e=t.sent,t.abrupt("return",e.data.showapi_res_body.channelList);case 4:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function u(t){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,a=c.length>2&&void 0!==c[2]?c[2]:10,t.next=4,i.a.get("http://ali-news.showapi.com/newsList",{headers:{Authorization:"APPCODE ".concat(s)},params:{channelId:e,page:n,maxResult:a,needContent:1,needAllList:!1}});case 4:return r=t.sent,t.abrupt("return",r.data.showapi_res_body.pagebean);case 6:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}},"0d3c":function(t,e,n){t.exports=n.p+"img/naruto4.b4c6926d.jpg"},"1b7a":function(t,e,n){},"1ba8":function(t,e,n){},"1c14":function(t,e,n){"use strict";n("1ba8")},2943:function(t,e,n){"use strict";n("3f7c")},"2a7e":function(t,e,n){t.exports=n.p+"img/naruto3.74fe04fc.jpg"},"3a5e":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading"},[n("div",{staticClass:"item"}),n("div",{staticClass:"item"}),n("div",{staticClass:"item"}),n("div",{staticClass:"item"}),n("div",{staticClass:"item"})])}],i={},s=i,c=(n("2943"),n("2877")),o=Object(c["a"])(s,a,r,!1,null,"071aeffc",null);e["a"]=o.exports},"3f7c":function(t,e,n){},4181:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"center"},[t._t("default")],2)},r=[],i={},s=i,c=(n("ec21"),n("2877")),o=Object(c["a"])(s,a,r,!1,null,"d0bd1218",null);e["a"]=o.exports},"4d25":function(t,e,n){"use strict";n("fc3d")},"4ee2":function(t,e,n){},"4ffd":function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},"56d7":function(t,e,n){"use strict";n.r(e);n("96cf");var a=n("1da1"),r=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("div",{staticClass:"container"},[n("router-view")],1)],1)},s=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-container"},[a("div",{staticClass:"container-header"},[a("div",{staticClass:"logo"},[a("router-link",{attrs:{to:{name:"home"}}},[a("img",{attrs:{src:n("4ffd"),alt:""}})])],1),a("nav",{staticClass:"nav"},[a("ul",[a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"home"}}},[t._v("首页")])],1),t._l(t.data.slice(0,5),(function(e){return a("li",{key:e.channelId,staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"news",params:{id:e.channelId}}}},[t._v(t._s(e.name))])],1)}))],2)]),a("div",{staticClass:"login-area"},[t.isLogining?a("span",[t._v("loading...")]):t.user?[a("router-link",{attrs:{to:{name:"personal"}}},[t._v(t._s(t.$store.state.loginUser.data.nickname))]),a("router-link",{attrs:{to:{name:"login"}},nativeOn:{click:function(e){return t.loginOut(e)}}},[t._v("退出")])]:[a("router-link",{staticClass:"login",attrs:{to:"/login"}},[t._v("登录")]),a("router-link",{staticClass:"reg",attrs:{to:"/reg"}},[t._v("注册")])]],2)])])},o=[],u=n("5530"),l=n("2f62"),d={computed:Object(u["a"])(Object(u["a"])({},Object(l["b"])("channels",["data","isLoading"])),Object(l["b"])("loginUser",{user:"data",isLogining:"isLoading"})),methods:{loginOut:function(){this.$store.dispatch("loginUser/loginOut")}}},f=d,h=(n("1c14"),n("2877")),p=Object(h["a"])(f,c,o,!1,null,"e0b7d942",null),m=p.exports,g=n("3a5e"),v=n("bb51"),b={name:"App",components:{Home:v["default"],Loading:g["a"],Header:m},data:function(){return{}},methods:{handleClick:function(t){console.log(t)},pageChange:function(t){this.page=t}}},w=b,k=Object(h["a"])(w,i,s,!1,null,null,null),C=k.exports,_=(n("4ee2"),n("aede"),n("8c4f")),x=(n("d3b7"),[{path:"/docs/index.html",redirect:"/"},{name:"home",path:"/",component:function(){return Promise.resolve().then(n.bind(null,"bb51"))}},{name:"login",path:"/login",component:function(){return n.e("chunk-3f53acf8").then(n.bind(null,"a55b"))}},{name:"reg",path:"/reg",component:function(){return n.e("chunk-e4179864").then(n.bind(null,"b8b8"))}},{name:"news",path:"/news/:id",component:function(){return n.e("chunk-70971eb4").then(n.bind(null,"3244"))}},{name:"personal",path:"/personal",component:function(){return n.e("chunk-2d0e4a6e").then(n.bind(null,"90ab"))},meta:{auth:!0}},{name:"auth",path:"/auth",component:function(){return n.e("chunk-2d230a9f").then(n.bind(null,"ecf1"))}},{name:"protected",path:"/protected",component:function(){return n.e("chunk-2d0c7ad7").then(n.bind(null,"5248"))},meta:{auth:!0}},{name:"notFound",path:"*",component:function(){return n.e("chunk-b4af0008").then(n.bind(null,"3c09"))}}]),L=n("00fa"),y={namespaced:!0,state:{data:[],isLoading:!1},mutations:{setData:function(t,e){t.data=e},setLoading:function(t,e){t.isLoading=e}},actions:{getChannels:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit("setLoading",!0),e.next=3,Object(L["a"])();case 3:n=e.sent,t.commit("setData",n),t.commit("setLoading",!1);case 6:case"end":return e.stop()}}),e)})))()}}},O=n("2909"),j={namespaced:!0,state:{data:[],isLoading:!1},mutations:{setData:function(t,e){t.data=e},setLoading:function(t,e){t.isLoading=e}},actions:{getNewsList:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.commit("setLoading",!0),n.next=3,L["b"].apply(void 0,Object(O["a"])(e));case 3:a=n.sent,console.log(a),t.commit("setData",a),t.commit("setLoading",!1);case 7:case"end":return n.stop()}}),n)})))()}}},I=n("bc3a"),R=n.n(I);function E(t){return A.apply(this,arguments)}function A(){return A=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R.a.post("/api/user/login",e);case 2:return n=t.sent,a=n.headers.authorization,a&&localStorage.setItem("token",a),t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}function P(){return D.apply(this,arguments)}function D(){return D=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=localStorage.getItem("token"),t.next=3,R.a.get("/api/user/whoami",{headers:{authorization:"bearer ".concat(e)}});case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)}))),D.apply(this,arguments)}function S(){localStorage.removeItem("token")}function $(t){return N.apply(this,arguments)}function N(){return N=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R.a.post("/api/user/reg",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))),N.apply(this,arguments)}function T(t){return new Promise((function(e){setTimeout((function(){e()}),t)}))}var U={namespaced:!0,state:{data:null,isLoading:!1},mutations:{setData:function(t,e){t.data=e},setLoading:function(t,e){t.isLoading=e}},actions:{login:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=!1,t.commit("setLoading",!0),n.next=4,E(e);case 4:if(r=n.sent,0!==r.code){n.next=12;break}return n.next=8,T(2e3);case 8:t.commit("setData",r.data),a=!0,n.next=13;break;case 12:400===r.code&&t.commit("setData",r.message);case 13:return t.commit("setLoading",!1),n.abrupt("return",a);case 15:case"end":return n.stop()}}),n)})))()},reg:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.commit("setLoading",!0),n.next=3,$(e);case 3:a=n.sent,0===a.code&&t.commit("setData",a),t.commit("setLoading",!1);case 6:case"end":return n.stop()}}),n)})))()},whoAmI:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!1,t.commit("setLoading",!0),e.next=4,P();case 4:return a=e.sent,e.next=7,T(2e3);case 7:return 0===a.code&&(t.commit("setData",a.data),n=!0),console.log("还没有设置为false"),t.commit("setLoading",!1),console.log("已经设置为false"),e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})))()},loginOut:function(t){S(),t.commit("setData",null)}}};r["a"].use(l["a"]);var M=new l["a"].Store({modules:{channels:y,news:j,loginUser:U}}),q=M;r["a"].use(_["a"]);var z=new _["a"]({routes:x,mode:"hash"});z.beforeEach((function(t,e,n){t.meta.auth?q.state.loginUser.isLoading?n({name:"auth",query:{returnurl:t.fullPath}}):q.state.loginUser.data?n():n({name:"login"}):n()}));var B=z;function H(){return F.apply(this,arguments)}function F(){return F=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),F.apply(this,arguments)}H(),q.dispatch("channels/getChannels"),q.dispatch("loginUser/whoAmI"),r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(C)},router:B,store:q}).$mount("#app")},6716:function(t,e,n){},7802:function(t,e,n){"use strict";n("6716")},"82e9":function(t,e,n){},8361:function(t,e,n){t.exports=n.p+"img/naruto5.f2cf5e1c.jpg"},"8fa3":function(t,e,n){"use strict";n("82e9")},aede:function(t,e,n){},b50a:function(t,e,n){t.exports=n.p+"img/naruto1.066936d8.jpg"},bb51:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("banner",{attrs:{imgList:t.imgList,duration:1500}}),n("channel-list",{on:{"change-channel":t.changeChannel}}),n("news-list",{attrs:{newsList:t.newsList}})],1)},r=[],i=(n("96cf"),n("1da1")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"banner-container",on:{mouseenter:t.autoStop,mouseleave:t.autoMove}},[n("ul",{staticClass:"pic-list",style:{width:100*t.imgList.length+"%",marginLeft:-100*t.curIndex+"%"}},t._l(t.imgList,(function(t){return n("li",{key:t.id,staticClass:"pic"},[n("a",{attrs:{href:""}},[n("img",{attrs:{src:t.src,alt:""}})])])})),0),n("ul",{staticClass:"dot-list"},t._l(t.imgList.length,(function(e,a){return n("li",{key:e,staticClass:"dot",class:{active:a===t.curIndex},on:{mouseover:function(e){t.curIndex=a}}})})),0)])},c=[],o=(n("a9e3"),{props:{imgList:{type:Array,required:!0},duration:{type:Number,default:2e3}},data:function(){return{curIndex:3,timer:null}},methods:{autoMove:function(){var t=this;this.timer=setInterval((function(){t.curIndex=++t.curIndex%t.imgList.length}),this.duration)},autoStop:function(){clearInterval(this.timer),this.timer=null}},created:function(){this.autoMove()}}),u=o,l=(n("8fa3"),n("2877")),d=Object(l["a"])(u,s,c,!1,null,"3300acad",null),f=d.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.data.length>0?n("div",{staticClass:"channel-container"},[t._l(t.showChannel,(function(e){return n("div",{key:e.id,staticClass:"channel",class:{active:e.channelId===t.curChannelId},on:{click:function(n){return t.channelActive(e.channelId)}}},[t._v(t._s(e.name))])})),n("button",{staticClass:"btn",on:{click:function(e){t.isCollapsed=!t.isCollapsed}}},[t._v(t._s(t.isCollapsed?"展开":"折叠"))])],2):t._e()},p=[],m=(n("fb6a"),n("5530")),g=n("2f62"),v={data:function(){return{isCollapsed:!0,curChannelId:0}},computed:Object(m["a"])({showChannel:function(){return this.isCollapsed?this.data.slice(0,9):this.data}},Object(g["b"])("channels",["data","isLoading"])),methods:{channelActive:function(t){this.curChannelId=t,this.$emit("change-channel",t)}},watch:{data:{immediate:!0,handler:function(){this.data.length>0&&(this.curChannelId=this.data[0].channelId,this.$emit("change-channel",this.curChannelId))}}}},b=v,w=(n("4d25"),Object(l["a"])(b,h,p,!1,null,"3f437f82",null)),k=w.exports,C=n("dc4d"),_=n("00fa"),x={components:{ChannelList:k,NewsList:C["a"],Banner:f},data:function(){return{imgList:[{id:0,link:"http://www.baidu.co",src:n("b50a")},{id:1,link:"http://www.baidu.co",src:n("dc10")},{id:2,link:"http://www.baidu.co",src:n("2a7e")},{id:3,link:"http://www.baidu.co",src:n("0d3c")},{id:4,link:"http://www.baidu.co",src:n("8361")}],newsList:[]}},watch:{},methods:{changeChannel:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(_["b"])(t);case 2:a=n.sent,e.newsList=a.contentlist;case 4:case"end":return n.stop()}}),n)})))()}}},L=x,y=Object(l["a"])(L,a,r,!1,null,null,null);e["default"]=y.exports},dc10:function(t,e,n){t.exports=n.p+"img/naruto2.0834f9ae.jpg"},dc4d:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news-container"},[n("Center",[0===t.newsList.length?n("loading"):t._e()],1),t.newsList.length>0?n("ul",{staticClass:"news-list"},t._l(t.newsList,(function(e){return n("li",{key:e.id,staticClass:"news"},[e.havePic?n("div",{staticClass:"pic"},[n("a",{attrs:{href:e.link}},[n("img",{attrs:{src:e.imageurls[0].url,alt:""}})])]):t._e(),n("div",{staticClass:"content"},[n("h2",{staticClass:"title"},[t._v(t._s(e.title))]),n("div",{staticClass:"info"},[n("span",{staticClass:"channelName"},[t._v(t._s(e.channelName))]),n("span",{staticClass:"source"},[t._v(t._s(e.source))]),n("span",{staticClass:"pubDate"},[t._v(t._s(e.pubDate))])]),n("div",{staticClass:"text"},[t._v(t._s(e.content))])])])})),0):t._e()],1)},r=[],i=n("3a5e"),s=n("4181"),c={components:{Loading:i["a"],Center:s["a"]},props:{newsList:{type:Array,required:!0}},data:function(){return{}}},o=c,u=(n("7802"),n("2877")),l=Object(u["a"])(o,a,r,!1,null,"760223e7",null);e["a"]=l.exports},ec21:function(t,e,n){"use strict";n("1b7a")},fc3d:function(t,e,n){}});
//# sourceMappingURL=app.9653704c.js.map